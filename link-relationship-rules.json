{
  "rules": [
    {
      "id": "mdmd-layer3-to-code",
      "label": "Layer 3 architecture docs trace to code",
      "sequence": [
        {
          "name": "layer3-doc",
          "glob": ".mdmd/layer-3/**/*.mdmd.md",
          "mdmdLayer": "3"
        },
        {
          "name": "layer4-doc",
          "glob": "{.mdmd/layer-4/**/*.mdmd.md,.live-documentation/source/**/*.md}",
          "resolver": "markdown-links",
          "linkKind": "documents",
          "confidence": 0.95
        },
        {
          "name": "code-file",
          "glob": "{packages,tests,scripts}/**/*.{ts,tsx,js,jsx,cts,mts,mjs}",
          "resolver": "markdown-links",
          "linkKind": "documents",
          "confidence": 0.9
        }
      ],
      "propagate": [
        {
          "from": "layer3-doc",
          "to": "code-file",
          "linkKind": "documents",
          "confidence": 0.85
        }
      ]
    }
  ],
  "profiles": [
    {
      "id": "layer4-orphans",
      "label": "Layer 4 documents must have a Layer 3 parent",
      "mode": "off",
      "source": {
        "glob": [
          ".mdmd/layer-4/**/*.mdmd.md",
          ".live-documentation/source/**/*.md"
        ],
        "mdmdLayer": "4"
      },
      "requirements": [
        {
          "id": "must-have-l3-parent",
          "direction": "incoming",
          "linkKind": "documents",
          "targets": {
            "glob": ".mdmd/layer-3/**/*.mdmd.md",
            "mdmdLayer": "3"
          },
          "minimum": 1
        }
      ]
    }
  ],
  "profileOverrides": {}
}